{"version":3,"sources":["store/getReducer.js","store/users.js","store/navigation.js","store/game.js","lib/getRange.js","store/index.js","components/Screen.js","components/Btn.js","components/MenuBtn.js","screen/Menu.js","components/Popup.js","components/Select/Option.js","const.js","components/Select/index.js","components/BtnClose.js","screen/GameSettings.js","components/Map.js","screen/Game.js","App.js","index.js"],"names":["getReducer","_actions","crutch","actions","_","omit","initialState","extend","zipObject","keys","map","f","p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","p11","dispatch","state","arguments","length","undefined","action","type","indexOf","SET_STATE","data","source","addUser","plugin","history","goTo","getState","navigation","slice","prevPlugin","push","goBack","last","splice","size","userCnt","planetCntForUser","spaceObj","mapGegs","setParams","generateGame","_getState$game","game","cnt","sizeX","sizeY","res","random","getRange","Math","floor","forEach","range","x","y","users","userStore","navigationStore","gameStore","reducer","combineReducers","middleware","applyMiddleware","promise","logger","thunk","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","Screen","_this$props","this","props","className","children","react_default","a","createElement","join","Component","Plugin","style","onPress","onClick","defaultProps","defaultName","Btn","text","renderBtn","btn","MenuBtn","key","id","_this","components_Screen","btns","connect","appRoot","document","getElementById","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","el","appendChild","removeChild","ReactDOM","createPortal","e","colors","primary","blue","red","_show","setState","visible","_hide","renderOption","_ref","Option","title","options","value","Fragment","fa","color","find","Popup","PureComponent","renderOptions","Select","v","defineProperty","startGame","green","BtnClose","renderMapItem","_getPos","renderMapGegs","arr","split","left","SIZE_SOT_X","top","SIZE_SOT_Y","Map","App","Menu","GameSettings","Game","renderPlugin","startApp","render","react_redux_es","src_App_0","cordova","addEventListener"],"mappings":"swBACeA,EAAA,SAACC,EAASC,GACrB,IAAMC,EAAUC,IAAEC,KAAKJ,EAAS,eAAe,aACzCK,EAAeF,IAAEG,OAAO,GAC1BN,EAASK,aACTF,IAAEI,UAAUJ,IAAEK,KAAKN,GAASC,IAAEM,IAAIP,EAAS,SAACQ,GACxC,OAAO,SAACC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAIC,GACnCpB,EAAOqB,SAASZ,EAAEC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAIC,SAI7D,OAAO,WAAkC,IAAjCE,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBnB,EAAcsB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAIC,EAAOC,OAASD,EAAOC,KAAKC,QAAQ7B,EAAS8B,WACtC3B,IAAEG,OAAO,GAAIiB,EAAOI,EAAOI,MAE/BR,ICfFO,EAAY,YAEZzB,EAAe,CACxB2B,OAAO,IAEEC,EAAU,SAACF,GACpB,MAAO,CACHH,KAAME,EACNC,KAAMA,ICNDD,EAAY,iBACZzB,EAAe,CACxB2B,OAAQ,GACRE,OAAQ,OACRC,QAAS,IAGAC,EAAO,SAACF,GAAD,OAAY,SAACZ,EAAUe,GACvC,IAAMF,EAAUE,IAAWC,WAAWH,QAAQI,QACxCC,EAAaH,IAAWC,WAAWJ,OACzCC,EAAQM,KAAKD,GACblB,EAAS,CACLM,KAAME,EACNC,KAAM,CAACG,SAAQC,eAGVO,EAAS,kBAAM,SAACpB,EAAUe,GAAa,IACzCF,EAAWE,IAAWC,WAAtBH,QACDD,EAAS/B,IAAEwC,KAAKR,GACtBb,EAAS,CACLM,KAAME,EACNC,KAAM,CACFG,SACAC,QAASA,EAAQI,QAAQK,QAAQ,QCtBhCd,EAAY,WAEZzB,EAAe,CACxBwC,KAAM,GACNC,QAAS,EACTC,iBAAiB,EACjBC,SAAS,GACTC,QAAQ,IAECC,EAAY,SAACnB,GACtB,MAAO,CACHH,KAAME,EACNC,KAAMA,IAGDoB,EAAe,SAACpB,GAAD,OAAU,SAACT,EAASe,GAAW,IAAAe,EACff,IAAWgB,KAA5CP,EADgDM,EAChDN,QAAQC,EADwCK,EACxCL,iBAAiBF,EADuBO,EACvBP,KAI1BG,ECtBK,SAACM,EAAIC,GAEhB,IAFwC,IAAlBC,EAAkBhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV+B,EACxBE,EAAM,GACLtD,IAAE0C,KAAKY,GAAOH,GACjBG,EAAItD,IAAEuD,OAAO,EAAEH,EAAM,GAAG,IAAIpD,IAAEuD,OAAO,EAAEF,EAAM,IAAM,EAEvD,OAAOC,EDiBUE,CAHLb,EAAQC,EACFa,KAAKC,MAAMhB,EAAKA,EAjBhB,IAmBsBA,GAClCI,EAAU,GAChB9C,IAAE2D,QAAQ3D,IAAE4D,MAAMlB,GAAM,SAACmB,GACrB7D,IAAE2D,QAAQ3D,IAAE4D,MAAMlB,GAAM,SAACoB,GACrBhB,EAAQe,EAAE,IAAIC,GAAK,MAG3B3C,EAAS,CACLM,KAAME,EACNC,KAAM,CAACiB,WAASC,eErBlBhD,EAAS,CACXqB,SAAU,cAGR4C,EAAQnE,EAAWoE,EAAWlE,GAC9BqC,EAAavC,EAAWqE,EAAiBnE,GACzCoD,EAAOtD,EAAWsE,EAAWpE,GAC7BqE,EAAUC,YAAgB,CAC5BL,QACAb,OACAf,eAEEkC,EAAaC,YACfC,IACAC,IACAC,KAEEC,EAAQC,YACVR,EACAS,OAAOC,8BAAgCD,OAAOC,+BAC9CR,GAEJvE,EAAOqB,SAAWuD,EAAMvD,uDCrBT2D,0LATJ,IAAAC,EACsBC,KAAKC,MAA3BC,EADAH,EACAG,UAAUC,EADVJ,EACUI,SACjB,OACEC,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,CAAC,aAAaA,GAAWK,KAAK,MACzCJ,UALUK,cCAfC,mLACO,IAAAV,EACwCC,KAAKC,MAA3CC,EADFH,EACEG,UAAWQ,EADbX,EACaW,MAAMC,EADnBZ,EACmBY,QAASR,EAD5BJ,EAC4BI,SACjC,OACIC,EAAAC,EAAAC,cAAA,OACII,MAAOA,EACPR,UAAWA,EACXU,QAASD,GACRR,UARIK,aAcrBC,EAAOI,aAAe,CAClBX,UAAW,UACXS,QAAS,cAGbF,EAAOK,YAAc,MACNL,QCpBTA,mLAEE,OACIL,EAAAC,EAAAC,cAACS,EAAD,CACIJ,QAASX,KAAKC,MAAMU,QACpBT,UAAU,gBACTF,KAAKC,MAAMe,aANPR,aAYrBC,EAAOK,YAAc,UACNL,QCVTA,6MACJQ,UAAY,SAACC,GAAD,OAAQd,EAAAC,EAAAC,cAACa,EAAD,CAChBC,IAAKF,EAAIG,GACTL,KAAME,EAAIF,KACVL,QAAS,kBAAIW,EAAKrB,MAAMhD,KAAKiE,EAAIG,gFAGnC,OACEjB,EAAAC,EAAAC,cAACiB,EAAD,CAAQrB,UAAU,YACbsB,EAAKlG,IAAI0E,KAAKiB,mBATJT,aAcfgB,EAAO,CACT,CAACH,GAAG,eAAeL,KAAK,2DACxB,CAACK,GAAG,aAAaL,KAAK,oDACtB,CAACK,GAAG,WAAWL,KAAK,kCACpB,CAACK,GAAG,WAAWL,KAAK,6EACpB,CAACK,GAAG,OAAOL,KAAK,mCAEpBP,EAAOK,YAAc,aAErB,IAMeW,cANS,SAACrF,EAAO6D,GAC5B,MAAO,CACHhD,KAAMb,EAAMe,WAAWF,OAIhBwE,CAAyBhB,WChClCiB,EAAUC,SAASC,eAAe,QAElCnB,cACF,SAAAA,EAAYR,GAAO,IAAAqB,EAAA,OAAAO,OAAAC,EAAA,EAAAD,CAAA7B,KAAAS,IACfa,EAAAO,OAAAE,EAAA,EAAAF,CAAA7B,KAAA6B,OAAAG,EAAA,EAAAH,CAAApB,GAAAwB,KAAAjC,KAAMC,KACDiC,GAAKP,SAASrB,cAAc,OAFlBgB,mFAMfI,EAAQS,YAAYnC,KAAKkC,mDAIzBR,EAAQU,YAAYpC,KAAKkC,qCAGpB,IAAAnC,EACkCC,KAAKC,MAArCC,EADFH,EACEG,UAAWS,EADbZ,EACaY,QAASR,EADtBJ,EACsBI,SAC3B,OAAOkC,IAASC,aACZlC,EAAAC,EAAAC,cAAA,OACIJ,UAAW,sBACXU,QAAS,SAAC2B,GAAD,OAAM5B,EAAQ4B,KACvBnC,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,sBAEhBE,EAAAC,EAAAC,cAAA,OAAKJ,UAAWA,GACXC,IAGTH,KAAKkC,WA1BI1B,aA+BrBC,EAAOI,aAAe,CAClBX,UAAW,YACXS,QAAS,cAGbF,EAAOK,YAAc,QACNL,SCvCTA,oLACO,IAAAV,EAC8BC,KAAKC,MAAjCC,EADFH,EACEG,UAAWS,EADbZ,EACaY,QAASK,EADtBjB,EACsBiB,KAC3B,OACIZ,EAAAC,EAAAC,cAAA,OACIJ,UAAWA,EACXU,QAASD,GACRK,UAPIR,aAarBC,GAAOI,aAAe,CAClBX,UAAW,oBACXS,QAAS,cAGbF,GAAOK,YAAc,SACNL,UCrBF+B,GAAS,CAClBC,QAAS,UACTC,KAAM,UACNC,IAAK,oBCIHlC,eACF,SAAAA,EAAYR,GAAO,IAAAqB,EAAA,OAAAO,OAAAC,EAAA,EAAAD,CAAA7B,KAAAS,IACfa,EAAAO,OAAAE,EAAA,EAAAF,CAAA7B,KAAA6B,OAAAG,EAAA,EAAAH,CAAApB,GAAAwB,KAAAjC,KAAMC,KAMV2C,MAAQ,WACJtB,EAAKuB,SAAS,CAACC,SAAS,KARTxB,EAUnByB,MAAQ,WACJzB,EAAKuB,SAAS,CAACC,SAAS,KAXTxB,EAcnB0B,aAAa,SAAAC,GAAc,IAAZ5B,EAAY4B,EAAZ5B,GAAGL,EAASiC,EAATjC,KACd,OAAOZ,EAAAC,EAAAC,cAAC4C,GAAD,CACH9B,IAAKC,EACLL,KAAMA,EACNL,QAAS,kBAAMW,EAAKrB,MAAMU,QAAQU,OAhBtCC,EAAKlF,MAAQ,CACT0G,SAAS,GAHExB,wEAsBV,IAAAvB,EAMDC,KAAKC,MAJLC,EAFCH,EAEDG,UACAiD,EAHCpD,EAGDoD,MACAC,EAJCrD,EAIDqD,QACAC,EALCtD,EAKDsD,MAEGP,EAAW9C,KAAK5D,MAAhB0G,QACP,OACI1C,EAAAC,EAAAC,cAACF,EAAAC,EAAMiD,SAAP,KACIlD,EAAAC,EAAAC,cAAA,OACIJ,UAAWA,EACXU,QAASZ,KAAK4C,OACdxC,EAAAC,EAAAC,cAAA,OAAKJ,UAAWA,EAAY,UACvBiD,GAEL/C,EAAAC,EAAAC,cAAA,OAAKJ,UAAWA,EAAY,UACxBE,EAAAC,EAAAC,cAACiD,GAAA,EAAD,CAAaC,MAAOhB,GAAOE,OAC3BtC,EAAAC,EAAAC,cAAA,YACK+C,GAAS,GAAKD,GAAWpI,IAAEyI,KAAKL,EAAS,CAAC/B,GAAIgC,IAAQrC,QAIlE8B,GAAW1C,EAAAC,EAAAC,cAACoD,GAAD,CACR/C,QAASX,KAAK+C,OAEb/H,IAAEM,IAAI8H,EAASpD,KAAKgD,uBAjDpBW,iBAwDrBlD,GAAOI,aAAe,CAClBX,UAAW,aACXS,QAAS,cAGbF,GAAOK,YAAc,SACNL,mBC/DTA,oLACO,IACElD,EAAUyC,KAAKC,MAAf1C,OACP,OAAO6C,EAAAC,EAAAC,cAACS,EAAD,CAAKJ,QAASpD,EAAQ2C,UAAW,iBACpCE,EAAAC,EAAAC,cAACiD,GAAA,EAAD,CAAeC,MAAOhB,GAAOG,cAJpBnC,aASrBC,GAAOI,aAAe,CAClBF,QAAS,cAGbF,GAAOK,YAAc,WAErB,IAOeW,gBAPS,SAACrF,EAAO6D,GAE5B,MAAO,CACH1C,OAFiBnB,EAAde,WAEgBI,SAIZkE,CAAyBhB,ICnBlCA,8MACFmD,cAAgB,SAAC1C,GAAD,OAASd,EAAAC,EAAAC,cAACuD,GAAD,CACrBzC,IAAKF,EAAIG,GACT8B,MAAOjC,EAAIF,KACXL,QAAS,SAACmD,GAAD,OAAKxC,EAAKrB,MAAMlC,UAAX8D,OAAAkC,EAAA,EAAAlC,CAAA,GAAuBX,EAAIG,GAAIyC,KAC7CV,QAASlC,EAAIkC,QACbC,MAAO/B,EAAKrB,MAAMiB,EAAIG,SAE1B2C,UAAW,WAAI,IAAAjE,EACiBuB,EAAKrB,MAA1BhD,EADI8C,EACJ9C,MACPe,EAFW+B,EACC/B,gBAEZf,EAAK,iFAGL,OACImD,EAAAC,EAAAC,cAACiB,EAAD,CAAQrB,UAAU,qBACbkD,GAAQ9H,IAAI0E,KAAK4D,eAClBxD,EAAAC,EAAAC,cAACS,EAAD,CAAKJ,QAASX,KAAKgE,UAAW9D,UAAW,gBACrCE,EAAAC,EAAAC,cAACiD,GAAA,EAAD,CAAeC,MAAOhB,GAAOyB,SAEjC7D,EAAAC,EAAAC,cAAC4D,GAAD,cApBK1D,aA4Cf4C,GAAU,CACZ,CAAC/B,GAAI,OAAQL,KAAM,sEAAeoC,QApBnB,CACf,CAAC/B,GAAG,GAAGL,KAAK,wCACZ,CAACK,GAAG,GAAGL,KAAK,oDACZ,CAACK,GAAG,GAAGL,KAAK,sDAkBZ,CAACK,GAAI,UAAWL,KAAM,6CAAUoC,QAhBjB,CACf,CAAC/B,GAAG,EAAEL,KAAK,0CACX,CAACK,GAAG,EAAEL,KAAK,0CACX,CAACK,GAAG,EAAEL,KAAK,0CACX,CAACK,GAAG,EAAEL,KAAK,gDACX,CAACK,GAAG,EAAEL,KAAK,gDACX,CAACK,GAAG,EAAEL,KAAK,gDACX,CAACK,GAAG,EAAEL,KAAK,kDAUX,CAACK,GAAI,mBAAoBL,KAAM,iCAAQoC,QARtB,CACjB,CAAC/B,GAAG,EAAEL,KAAK,4BACX,CAACK,GAAG,EAAEL,KAAK,gEACX,CAACK,GAAG,EAAEL,KAAK,qCAOfP,GAAOK,YAAc,eAErB,IAYeW,eAZS,SAACrF,EAAO6D,GAAU,IAC/B/B,EAAQ9B,EAAR8B,KACP,MAAO,CACHR,KAAMQ,EAAKR,KACXC,QAASO,EAAKP,QACdC,iBAAkBM,EAAKN,iBACvBG,UAAUG,EAAKH,UACfC,aAAaE,EAAKF,aAClBf,KAAMb,EAAMe,WAAWF,OAIhBwE,CAAyBhB,ICtElCA,oLACO,IAAAV,EACwBC,KAAKC,MAA3BC,EADFH,EACEG,UAAUC,EADZJ,EACYI,SACjB,OACIC,EAAAC,EAAAC,cAAA,OACIJ,UAAWA,GAEVC,UAPIK,aAarBC,GAAOI,aAAe,CAClBX,UAAW,UACXS,QAAS,cAGbF,GAAOK,YAAc,MACNL,UCTTA,8MAQF0D,cAAgB,SAAC1H,EAAM2E,GACnB,OAAOhB,EAAAC,EAAAC,cAAA,OACHc,IAAKA,EACL+B,MAAO/B,EACPV,MAAOY,EAAK8C,QAAQhD,GACpBlB,UAAU,sBAGlBmE,cAAgB,SAAC5H,EAAM2E,GACnB,OAAOhB,EAAAC,EAAAC,cAAA,OACHc,IAAKA,EACL+B,MAAO/B,EACPV,MAAOY,EAAK8C,QAAQhD,GACpBlB,UAAU,yFApBVkB,GACJ,IAAMkD,EAAMlD,EAAImD,MAAM,KACtB,MAAQ,CACJC,KAVO,IAUAF,EAAI,GAPHG,GAQRC,IAVO,IAUDJ,EAAI,GAAmBA,EAAI,GAAG,EAV7B,GAU2C,EAP1CK,qCA2BP,IAAA5E,EACuBC,KAAKC,MAA1BpC,EADFkC,EACElC,SAAUC,EADZiC,EACYjC,QACjB,OACIsC,EAAAC,EAAAC,cAACiB,EAAD,CAAQrB,UAAU,YACdE,EAAAC,EAAAC,cAACsE,GAAD,KACK5J,IAAEM,IAAIuC,EAAUmC,KAAKmE,eACrBnJ,IAAEM,IAAIwC,EAASkC,KAAKqE,wBA/BpB7D,aAsCrBC,GAAOK,YAAc,OAErB,IAOeW,eAPS,SAACrF,EAAO6D,GAC5B,MAAO,CACHpC,SAAUzB,EAAM8B,KAAKL,SACrBC,QAAS1B,EAAM8B,KAAKJ,UAIb2D,CAAyBhB,ICrDlCoE,0LAGA,OADiB7E,KAAKC,MAAflD,QAEH,IAAK,OACH,OAAOqD,EAAAC,EAAAC,cAACwE,EAAD,MACT,IAAK,eACH,OAAO1E,EAAAC,EAAAC,cAACyE,GAAD,MACT,IAAK,OACH,OAAO3E,EAAAC,EAAAC,cAAC0E,GAAD,MACT,QAAS,OAAO5E,EAAAC,EAAAC,cAAA,6IAItB,OACEF,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,OACVF,KAAKiF,uBAhBEzE,aA4BHiB,eANS,SAACrF,EAAO6D,GAC5B,MAAO,CACHlD,OAAQX,EAAMe,WAAWJ,SAIlB0E,CAAyBoD,IC1BlCK,GAAW,WACb7C,IAAS8C,OACL/E,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CAAU1F,MAAOA,GACbU,EAAAC,EAAAC,cAAC+E,GAAD,OAEF1D,SAASC,eAAe,UAG9BhC,OAAO0F,QACP3D,SAAS4D,iBAAiB,cAAeL,IAAU,GAEnDA","file":"static/js/main.2456cec3.chunk.js","sourcesContent":["import _ from 'lodash';\r\nexport default (_actions,crutch) => {\r\n    const actions = _.omit(_actions,'initialState','SET_STATE');\r\n    const initialState = _.extend({},\r\n        _actions.initialState,\r\n        _.zipObject(_.keys(actions),_.map(actions, (f)=>{\r\n            return (p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11)=> {\r\n                crutch.dispatch(f(p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11));\r\n            }\r\n            }\r\n        )));\r\n    return (state = initialState, action) => {\r\n        if (action.type && !action.type.indexOf(_actions.SET_STATE)) {\r\n            return _.extend({}, state, action.data)\r\n        }\r\n        return state\r\n    }\r\n};","export const SET_STATE = 'SET_USERS';\r\n\r\nexport const initialState = {\r\n    source:[]\r\n};\r\nexport const addUser = (data) => {\r\n    return {\r\n        type: SET_STATE,\r\n        data: data\r\n    }\r\n};","import _ from 'lodash';\r\n\r\nexport const SET_STATE = 'SET_NAVIGATION';\r\nexport const initialState = {\r\n    source: [],\r\n    plugin: 'Menu',\r\n    history: []\r\n\r\n};\r\nexport const goTo = (plugin) => (dispatch, getState) => {\r\n    const history = getState().navigation.history.slice();\r\n    const prevPlugin = getState().navigation.plugin;\r\n    history.push(prevPlugin);\r\n    dispatch({\r\n        type: SET_STATE,\r\n        data: {plugin, history}\r\n    });\r\n};\r\nexport const goBack = () => (dispatch, getState) => {\r\n    const {history} = getState().navigation;\r\n    const plugin = _.last(history);\r\n    dispatch({\r\n        type: SET_STATE,\r\n        data: {\r\n            plugin,\r\n            history: history.slice().splice(-1)\r\n        }\r\n    })\r\n};","import getRange from \"../lib/getRange\";\r\nimport _ from \"lodash\";\r\n\r\nexport const SET_STATE = 'SET_GAME';\r\nconst METEOR_ON_MAP = 0.1;\r\nexport const initialState = {\r\n    size: 16,\r\n    userCnt: 2,\r\n    planetCntForUser:1,\r\n    spaceObj:{},\r\n    mapGegs:{}\r\n};\r\nexport const setParams = (data) => {\r\n    return {\r\n        type: SET_STATE,\r\n        data: data\r\n    }\r\n};\r\nexport const generateGame = (data) => (dispatch,getState)=>{\r\n    const {userCnt,planetCntForUser,size} = getState().game;\r\n    const cnt = userCnt*planetCntForUser;\r\n    const meteorCnt = Math.floor(size*size*METEOR_ON_MAP);\r\n    // const meteorCnt = 5;\r\n    const spaceObj = getRange(cnt+meteorCnt,size);\r\n    const mapGegs = {};\r\n    _.forEach(_.range(size),(x)=>{\r\n        _.forEach(_.range(size),(y)=> {\r\n            mapGegs[x+'_'+y] = 1;\r\n        });\r\n    });\r\n    dispatch({\r\n        type: SET_STATE,\r\n        data: {spaceObj,mapGegs}\r\n    })\r\n};","import _ from 'lodash';\nexport default (cnt,sizeX,sizeY = sizeX) => {\n    const res = {};\n    while (_.size(res) < cnt){\n        res[_.random(0,sizeX-1)+'_'+_.random(0,sizeY-1)] = 1;\n    }\n    return res\n}","import {createStore, applyMiddleware} from 'redux';\r\nimport promise from 'redux-promise';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger'\r\nimport getReducer from './getReducer';\r\n\r\nimport {combineReducers} from 'redux'\r\nimport * as userStore from './users';\r\nimport * as navigationStore from './navigation';\r\nimport * as gameStore from './game';\r\n\r\nconst crutch = {\r\n    dispatch: () => {\r\n    }\r\n};\r\nconst users = getReducer(userStore, crutch);\r\nconst navigation = getReducer(navigationStore, crutch);\r\nconst game = getReducer(gameStore, crutch);\r\nconst reducer = combineReducers({\r\n    users,\r\n    game,\r\n    navigation\r\n});\r\nconst middleware = applyMiddleware(\r\n    promise,\r\n    logger,\r\n    thunk\r\n);\r\nconst store = createStore(\r\n    reducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n    middleware\r\n);\r\ncrutch.dispatch = store.dispatch;\r\n\r\nexport {\r\n    store\r\n};","import React, { Component } from 'react';\n\nclass Screen extends Component {\n  render() {\n    const {className,children} = this.props;\n    return (\n      <div className={[\"app-screen\",className].join(' ')}>\n          {children}\n      </div>\n    );\n  }\n}\nexport default Screen;\n","import React, {Component} from 'react';\n\nclass Plugin extends Component {\n    render() {\n        const {className, style,onPress, children} = this.props;\n        return (\n            <div\n                style={style}\n                className={className}\n                onClick={onPress}>\n                {children}\n            </div>\n        );\n    }\n}\n\nPlugin.defaultProps = {\n    className: 'app-btn',\n    onPress: () => {\n    }\n};\nPlugin.defaultName = 'Btm';\nexport default Plugin;\n","import React, {Component} from 'react';\nimport  Btn from './Btn';\nclass Plugin extends Component {\n    render() {\n        return (\n            <Btn\n                onPress={this.props.onPress}\n                className=\"app-menu-btn\">\n                {this.props.text}\n            </Btn>\n        );\n    }\n}\n\nPlugin.defaultName = 'MenuBtn';\nexport default Plugin;\n","import React, { Component } from 'react';\nimport Screen from '../components/Screen';\nimport MenuBtn from '../components/MenuBtn';\nimport {connect} from \"react-redux\";\n\nclass Plugin extends Component {\n  renderBtn = (btn)=> <MenuBtn\n      key={btn.id}\n      text={btn.text}\n      onPress={()=>this.props.goTo(btn.id)}\n  />;\n  render() {\n    return (\n      <Screen className=\"app-menu\">\n          {btns.map(this.renderBtn)}\n      </Screen>\n    );\n  }\n}\nconst btns = [\n    {id:'GameSettings',text:'новая игра'},\n    {id:'SavedGames',text:'загрузка'},\n    {id:'Settings',text:'опции'},\n    {id:'Feedback',text:'обратня связь'},\n    {id:'Exit',text:'выход'},\n];\nPlugin.defaultName = 'MenuScreen';\n\nconst mapStateToProps = (state, props) => {\n    return {\n        goTo: state.navigation.goTo\n    }\n};\n\nexport default connect(mapStateToProps)(Plugin);\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nconst appRoot = document.getElementById('root');\n\nclass Plugin extends Component {\n    constructor(props) {\n        super(props);\n        this.el = document.createElement('div');\n    }\n\n    componentDidMount() {\n        appRoot.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        appRoot.removeChild(this.el);\n    }\n\n    render() {\n        const {className, onPress, children} = this.props;\n        return ReactDOM.createPortal(\n            <div\n                className={'app-popup-conteiner'}\n                onClick={(e)=> onPress(e)}>\n                <div className={'app-popup-wrapper'}>\n                </div>\n                <div className={className}>\n                    {children}\n                </div>\n            </div>,\n            this.el,\n        );\n    }\n}\n\nPlugin.defaultProps = {\n    className: 'app-popup',\n    onPress: () => {\n    }\n};\nPlugin.defaultName = 'Popup';\nexport default Plugin;\n","import React, {Component} from 'react';\n\nclass Plugin extends Component {\n    render() {\n        const {className, onPress, text} = this.props;\n        return (\n            <div\n                className={className}\n                onClick={onPress}>\n                {text}\n            </div>\n        );\n    }\n}\n\nPlugin.defaultProps = {\n    className: 'app-select-option',\n    onPress: () => {\n    }\n};\nPlugin.defaultName = 'Option';\nexport default Plugin;\n","export const colors = {\n    primary: '#4169E1',\n    blue: '#4169E1',\n    red: '#e2131c',\n};","import React, {PureComponent} from 'react';\r\nimport _ from 'lodash';\r\nimport Popup from '../Popup';\r\nimport Option from './Option';\r\nimport {colors} from '../../const';\r\nimport {FaAngleDown} from 'react-icons/fa'\r\n\r\nclass Plugin extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false\r\n        }\r\n    }\r\n\r\n    _show = () => {\r\n        this.setState({visible: true});\r\n    };\r\n    _hide = () => {\r\n        this.setState({visible: false});\r\n    };\r\n\r\n    renderOption=({id,text}) =>{\r\n        return <Option\r\n            key={id}\r\n            text={text}\r\n            onPress={() => this.props.onPress(id)}\r\n        />\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            title,\r\n            options,\r\n            value\r\n        } = this.props;\r\n        const {visible} = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div\r\n                    className={className}\r\n                    onClick={this._show}>\r\n                    <div className={className + '-title'}>\r\n                        {title}\r\n                    </div>\r\n                    <div className={className + '-value'}>\r\n                        <FaAngleDown color={colors.blue}/>\r\n                        <span>\r\n                            {value >= 0 && options && _.find(options, {id: value}).text}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                {visible && <Popup\r\n                    onPress={this._hide}\r\n                >\r\n                    {_.map(options, this.renderOption)}\r\n                </Popup>}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nPlugin.defaultProps = {\r\n    className: 'app-select',\r\n    onPress: () => {\r\n    }\r\n};\r\nPlugin.defaultName = 'Select';\r\nexport default Plugin;\r\n","import React, {Component} from 'react';\nimport {FaTimesCircle} from 'react-icons/fa';\nimport {colors} from \"../const\";\nimport Btn from \"./Btn\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Plugin extends Component {\n    render() {\n        const {goBack} = this.props;\n        return <Btn onPress={goBack} className={'app-btn-close'}>\n            <FaTimesCircle color={colors.red}/>\n        </Btn>;\n    }\n}\n\nPlugin.defaultProps = {\n    onPress: () => {\n    }\n};\nPlugin.defaultName = 'BtnClose';\n\nconst mapStateToProps = (state, props) => {\n    const {navigation} = state;\n    return {\n        goBack: navigation.goBack\n    }\n};\n\nexport default connect(mapStateToProps)(Plugin);","import React, {Component} from 'react';\nimport Screen from '../components/Screen';\nimport Select from '../components/Select';\nimport Btn from '../components/Btn';\nimport BtnClose from '../components/BtnClose';\nimport {FaCheckCircle} from 'react-icons/fa';\nimport {colors} from '../const'\nimport {connect} from \"react-redux\";\n\nclass Plugin extends Component {\n    renderOptions = (btn) => <Select\n        key={btn.id}\n        title={btn.text}\n        onPress={(v)=>this.props.setParams({[btn.id]:v})}\n        options={btn.options}\n        value={this.props[btn.id]}\n    />;\n    startGame =()=>{\n        const {goTo,generateGame} = this.props;\n        generateGame();\n        goTo('Game')\n    };\n    render() {\n        return (\n            <Screen className=\"app-game-settings\">\n                {options.map(this.renderOptions)}\n                <Btn onPress={this.startGame} className={'app-btn-game'}>\n                    <FaCheckCircle color={colors.green}/>\n                </Btn>\n                <BtnClose/>\n            </Screen>\n        );\n    }\n}\nconst options_size=[\n    {id:16,text:'малый 16X16'},\n    {id:32,text:'средний 32X32'},\n    {id:64,text:'большой 64X64'},\n];\nconst options_game=[\n    {id:2,text:'2 игрока'},\n    {id:3,text:'3 игрока'},\n    {id:4,text:'5 игрока'},\n    {id:5,text:'5 игроков'},\n    {id:6,text:'6 игроков'},\n    {id:7,text:'7 игроков'},\n    {id:8,text:'8 игроков'},\n];\nconst options_planet=[\n    {id:1,text:'мало'},\n    {id:2,text:'достаточно'},\n    {id:3,text:'много'},\n];\nconst options = [\n    {id: 'size', text: 'размер карты',options:options_size},\n    {id: 'userCnt', text: 'игроков',options:options_game},\n    {id: 'planetCntForUser', text: 'миров',options:options_planet},\n];\nPlugin.defaultName = 'GameSettings';\n\nconst mapStateToProps = (state, props) => {\n    const {game} = state;\n    return {\n        size: game.size,\n        userCnt: game.userCnt,\n        planetCntForUser: game.planetCntForUser,\n        setParams:game.setParams,\n        generateGame:game.generateGame,\n        goTo: state.navigation.goTo\n    }\n};\n\nexport default connect(mapStateToProps)(Plugin);\n","import React, {Component} from 'react';\n\nclass Plugin extends Component {\n    render() {\n        const {className,children} = this.props;\n        return (\n            <div\n                className={className}\n            >\n                {children}\n            </div>\n        );\n    }\n}\n\nPlugin.defaultProps = {\n    className: 'app-map',\n    onPress: () => {\n    }\n};\nPlugin.defaultName = 'Map';\nexport default Plugin;\n","import React, {Component} from 'react';\nimport Screen from '../components/Screen';\nimport Map from '../components/Map';\nimport {connect} from \"react-redux\";\nimport _ from 'lodash';\nconst ZOOM = 2;\nconst SIZE_SOT_X = 30*ZOOM;\nconst SIZE_SOT_Y = 36*ZOOM;\n\nconst SIZE_SOT_DX = SIZE_SOT_X/2;\nconst SIZE_SOT_DY = SIZE_SOT_Y/2;\n\nclass Plugin extends Component {\n    _getPos(key){\n        const arr = key.split('_');\n        return ({\n            left: +arr[0] * SIZE_SOT_X +SIZE_SOT_DX,\n            top: +arr[1] * SIZE_SOT_Y + (arr[0]%2)*SIZE_SOT_Y/2 + SIZE_SOT_DY\n        });\n    }\n    renderMapItem = (type, key) => {\n        return <div\n            key={key}\n            title={key}\n            style={this._getPos(key)}\n            className=\"app-map-meteor\"\n        ></div>\n    };\n    renderMapGegs = (type, key) => {\n        return <div\n            key={key}\n            title={key}\n            style={this._getPos(key)}\n            className=\"app-map-gegs\"\n        ></div>\n    };\n\n    render() {\n        const {spaceObj, mapGegs} = this.props;\n        return (\n            <Screen className=\"app-game\">\n                <Map>\n                    {_.map(spaceObj, this.renderMapItem)}\n                    {_.map(mapGegs, this.renderMapGegs)}\n                </Map>\n            </Screen>\n        );\n    }\n}\n\nPlugin.defaultName = 'Game';\n\nconst mapStateToProps = (state, props) => {\n    return {\n        spaceObj: state.game.spaceObj,\n        mapGegs: state.game.mapGegs\n    }\n};\n\nexport default connect(mapStateToProps)(Plugin);","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport './App.scss';\nimport Menu from './screen/Menu';\nimport GameSettings from './screen/GameSettings';\nimport Game from './screen/Game';\nclass App extends Component {\n  renderPlugin(){\n      const {plugin} = this.props;\n      switch (plugin) {\n          case 'Menu' :\n            return <Menu/>;\n          case 'GameSettings' :\n            return <GameSettings/>;\n          case 'Game' :\n            return <Game/>;\n          default: return <div>Нет такого экрана</div>\n      }\n  }\n  render() {\n    return (\n      <div className=\"app\">\n          {this.renderPlugin()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        plugin: state.navigation.plugin\n    }\n};\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {store} from './store';\nimport {Provider} from 'react-redux';\nimport App from './App';\n\n\nconst startApp = () => {\n    ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>\n        , document.getElementById('root'));\n};\n\nif (window.cordova) {\n    document.addEventListener('deviceready', startApp, false);\n} else {\n    startApp();\n}"],"sourceRoot":""}