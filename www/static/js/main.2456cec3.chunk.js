(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(57)},37:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_STATE",function(){return j}),n.d(a,"initialState",function(){return g}),n.d(a,"addUser",function(){return E});var r={};n.r(r),n.d(r,"SET_STATE",function(){return y}),n.d(r,"initialState",function(){return N}),n.d(r,"goTo",function(){return P}),n.d(r,"goBack",function(){return x});var i={};n.r(i),n.d(i,"SET_STATE",function(){return k}),n.d(i,"initialState",function(){return S}),n.d(i,"setParams",function(){return T}),n.d(i,"generateGame",function(){return _});var c=n(0),s=n.n(c),o=n(18),u=n.n(o),l=(n(37),n(8)),p=n(27),m=n.n(p),d=n(28),f=n(29),v=n.n(f),b=n(6),h=n.n(b),O=function(e,t){var n=h.a.omit(e,"initialState","SET_STATE"),a=h.a.extend({},e.initialState,h.a.zipObject(h.a.keys(n),h.a.map(n,function(e){return function(n,a,r,i,c,s,o,u,l,p,m){t.dispatch(e(n,a,r,i,c,s,o,u,l,p,m))}})));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;return n.type&&!n.type.indexOf(e.SET_STATE)?h.a.extend({},t,n.data):t}},j="SET_USERS",g={source:[]},E=function(e){return{type:j,data:e}},y="SET_NAVIGATION",N={source:[],plugin:"Menu",history:[]},P=function(e){return function(t,n){var a=n().navigation.history.slice(),r=n().navigation.plugin;a.push(r),t({type:y,data:{plugin:e,history:a}})}},x=function(){return function(e,t){var n=t().navigation.history,a=h.a.last(n);e({type:y,data:{plugin:a,history:n.slice().splice(-1)}})}},k="SET_GAME",S={size:16,userCnt:2,planetCntForUser:1,spaceObj:{},mapGegs:{}},T=function(e){return{type:k,data:e}},_=function(e){return function(e,t){var n=t().game,a=n.userCnt,r=n.planetCntForUser,i=n.size,c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a={};h.a.size(a)<e;)a[h.a.random(0,t-1)+"_"+h.a.random(0,n-1)]=1;return a}(a*r+Math.floor(i*i*.1),i),s={};h.a.forEach(h.a.range(i),function(e){h.a.forEach(h.a.range(i),function(t){s[e+"_"+t]=1})}),e({type:k,data:{spaceObj:c,mapGegs:s}})}},C={dispatch:function(){}},G=O(a,C),w=O(r,C),M=O(i,C),A=Object(l.c)({users:G,game:M,navigation:w}),B=Object(l.a)(m.a,v.a,d.a),U=Object(l.d)(A,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),B);C.dispatch=U.dispatch;var I=n(7),z=n(1),F=n(2),X=n(4),D=n(3),L=n(5),R=(n(55),function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return s.a.createElement("div",{className:["app-screen",t].join(" ")},n)}}]),t}(c.Component)),V=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,a=e.onPress,r=e.children;return s.a.createElement("div",{style:n,className:t,onClick:a},r)}}]),t}(c.Component);V.defaultProps={className:"app-btn",onPress:function(){}},V.defaultName="Btm";var J=V,W=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return s.a.createElement(J,{onPress:this.props.onPress,className:"app-menu-btn"},this.props.text)}}]),t}(c.Component);W.defaultName="MenuBtn";var q=W,H=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(X.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).renderBtn=function(e){return s.a.createElement(q,{key:e.id,text:e.text,onPress:function(){return n.props.goTo(e.id)}})},n}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return s.a.createElement(R,{className:"app-menu"},K.map(this.renderBtn))}}]),t}(c.Component),K=[{id:"GameSettings",text:"\u043d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"},{id:"SavedGames",text:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"},{id:"Settings",text:"\u043e\u043f\u0446\u0438\u0438"},{id:"Feedback",text:"\u043e\u0431\u0440\u0430\u0442\u043d\u044f \u0441\u0432\u044f\u0437\u044c"},{id:"Exit",text:"\u0432\u044b\u0445\u043e\u0434"}];H.defaultName="MenuScreen";var Q=Object(I.b)(function(e,t){return{goTo:e.navigation.goTo}})(H),Y=n(31),Z=document.getElementById("root"),$=function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(X.a)(this,Object(D.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(L.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){Z.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){Z.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onPress,a=e.children;return u.a.createPortal(s.a.createElement("div",{className:"app-popup-conteiner",onClick:function(e){return n(e)}},s.a.createElement("div",{className:"app-popup-wrapper"}),s.a.createElement("div",{className:t},a)),this.el)}}]),t}(c.Component);$.defaultProps={className:"app-popup",onPress:function(){}},$.defaultName="Popup";var ee=$,te=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onPress,a=e.text;return s.a.createElement("div",{className:t,onClick:n},a)}}]),t}(c.Component);te.defaultProps={className:"app-select-option",onPress:function(){}},te.defaultName="Option";var ne=te,ae={primary:"#4169E1",blue:"#4169E1",red:"#e2131c"},re=n(13),ie=function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(X.a)(this,Object(D.a)(t).call(this,e)))._show=function(){n.setState({visible:!0})},n._hide=function(){n.setState({visible:!1})},n.renderOption=function(e){var t=e.id,a=e.text;return s.a.createElement(ne,{key:t,text:a,onPress:function(){return n.props.onPress(t)}})},n.state={visible:!1},n}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,a=e.options,r=e.value,i=this.state.visible;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:t,onClick:this._show},s.a.createElement("div",{className:t+"-title"},n),s.a.createElement("div",{className:t+"-value"},s.a.createElement(re.a,{color:ae.blue}),s.a.createElement("span",null,r>=0&&a&&h.a.find(a,{id:r}).text))),i&&s.a.createElement(ee,{onPress:this._hide},h.a.map(a,this.renderOption)))}}]),t}(c.PureComponent);ie.defaultProps={className:"app-select",onPress:function(){}},ie.defaultName="Select";var ce=ie,se=n(16),oe=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props.goBack;return s.a.createElement(J,{onPress:e,className:"app-btn-close"},s.a.createElement(re.c,{color:ae.red}))}}]),t}(c.Component);oe.defaultProps={onPress:function(){}},oe.defaultName="BtnClose";var ue=Object(se.a)(function(e,t){return{goBack:e.navigation.goBack}})(oe),le=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(X.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).renderOptions=function(e){return s.a.createElement(ce,{key:e.id,title:e.text,onPress:function(t){return n.props.setParams(Object(Y.a)({},e.id,t))},options:e.options,value:n.props[e.id]})},n.startGame=function(){var e=n.props,t=e.goTo;(0,e.generateGame)(),t("Game")},n}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return s.a.createElement(R,{className:"app-game-settings"},pe.map(this.renderOptions),s.a.createElement(J,{onPress:this.startGame,className:"app-btn-game"},s.a.createElement(re.b,{color:ae.green})),s.a.createElement(ue,null))}}]),t}(c.Component),pe=[{id:"size",text:"\u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b",options:[{id:16,text:"\u043c\u0430\u043b\u044b\u0439 16X16"},{id:32,text:"\u0441\u0440\u0435\u0434\u043d\u0438\u0439 32X32"},{id:64,text:"\u0431\u043e\u043b\u044c\u0448\u043e\u0439 64X64"}]},{id:"userCnt",text:"\u0438\u0433\u0440\u043e\u043a\u043e\u0432",options:[{id:2,text:"2 \u0438\u0433\u0440\u043e\u043a\u0430"},{id:3,text:"3 \u0438\u0433\u0440\u043e\u043a\u0430"},{id:4,text:"5 \u0438\u0433\u0440\u043e\u043a\u0430"},{id:5,text:"5 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{id:6,text:"6 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{id:7,text:"7 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{id:8,text:"8 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}]},{id:"planetCntForUser",text:"\u043c\u0438\u0440\u043e\u0432",options:[{id:1,text:"\u043c\u0430\u043b\u043e"},{id:2,text:"\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e"},{id:3,text:"\u043c\u043d\u043e\u0433\u043e"}]}];le.defaultName="GameSettings";var me=Object(I.b)(function(e,t){var n=e.game;return{size:n.size,userCnt:n.userCnt,planetCntForUser:n.planetCntForUser,setParams:n.setParams,generateGame:n.generateGame,goTo:e.navigation.goTo}})(le),de=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return s.a.createElement("div",{className:t},n)}}]),t}(c.Component);de.defaultProps={className:"app-map",onPress:function(){}},de.defaultName="Map";var fe=de,ve=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(X.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).renderMapItem=function(e,t){return s.a.createElement("div",{key:t,title:t,style:n._getPos(t),className:"app-map-meteor"})},n.renderMapGegs=function(e,t){return s.a.createElement("div",{key:t,title:t,style:n._getPos(t),className:"app-map-gegs"})},n}return Object(L.a)(t,e),Object(F.a)(t,[{key:"_getPos",value:function(e){var t=e.split("_");return{left:60*+t[0]+30,top:72*+t[1]+t[0]%2*72/2+36}}},{key:"render",value:function(){var e=this.props,t=e.spaceObj,n=e.mapGegs;return s.a.createElement(R,{className:"app-game"},s.a.createElement(fe,null,h.a.map(t,this.renderMapItem),h.a.map(n,this.renderMapGegs)))}}]),t}(c.Component);ve.defaultName="Game";var be=Object(I.b)(function(e,t){return{spaceObj:e.game.spaceObj,mapGegs:e.game.mapGegs}})(ve),he=function(e){function t(){return Object(z.a)(this,t),Object(X.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(F.a)(t,[{key:"renderPlugin",value:function(){switch(this.props.plugin){case"Menu":return s.a.createElement(Q,null);case"GameSettings":return s.a.createElement(me,null);case"Game":return s.a.createElement(be,null);default:return s.a.createElement("div",null,"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430")}}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},this.renderPlugin())}}]),t}(c.Component),Oe=Object(I.b)(function(e,t){return{plugin:e.navigation.plugin}})(he),je=function(){u.a.render(s.a.createElement(I.a,{store:U},s.a.createElement(Oe,null)),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",je,!1):je()}},[[32,2,1]]]);
//# sourceMappingURL=main.2456cec3.chunk.js.map